# CityLyfe LLC - Deployment Checklist

## ‚úÖ Pre-Deployment (Done)
- [x] Production build tested - NO ERRORS
- [x] Environment variables configured (.env.production.local)
- [x] Client management system implemented
- [x] Database schema updated with new features
- [x] Documentation updated (PROJECT_TODO.md, DEPLOYMENT.md)

## üìã Deployment Steps (To Do)

### Local Preparation
- [ ] Test client management system (create, edit, delete clients)
- [ ] Test project creation with new client system
- [ ] Test file uploads
- [ ] Backup existing database: `cp data/citylife.db data/citylife-backup-$(date +%Y%m%d).db`

### Server Setup
- [ ] Provision server (Ubuntu 20.04+ recommended)
- [ ] Install Node.js 18+
- [ ] Install PM2: `npm install -g pm2`
- [ ] Install Nginx: `apt install nginx`

### Upload & Build
- [ ] Upload code to server (via git or scp)
- [ ] Install dependencies: `npm ci --only=production`
- [ ] Build application: `npm run build`
- [ ] Set permissions: `chmod -R 777 data/ public/uploads/`

### Configuration
- [ ] Copy .env.production.local to server
- [ ] Update NEXT_PUBLIC_SITE_URL in .env.production.local
- [ ] Configure database path
- [ ] Set up email service (optional)

### Launch
- [ ] Start with PM2: `pm2 start npm --name "citylyfe" -- start`
- [ ] Save PM2 config: `pm2 save && pm2 startup`
- [ ] Configure Nginx reverse proxy
- [ ] Set up SSL with Let's Encrypt: `certbot --nginx -d citylyfe.net`

### Verification
- [ ] Test https://citylyfe.net homepage
- [ ] Test admin login (admin@citylyfe.net)
- [ ] Test client management features
- [ ] Test project creation
- [ ] Test file uploads
- [ ] Test client portal

### Post-Deployment
- [ ] Set up automated database backups (cron job)
- [ ] Configure log rotation
- [ ] Set up monitoring: `pm2 monit`
- [ ] Change default admin password
- [ ] Enable firewall: `ufw allow OpenSSH && ufw allow 'Nginx Full' && ufw enable`

## üìö Documentation

- **Full Guide**: See DEPLOYMENT.md for detailed step-by-step instructions
- **Commands**: See PROJECT_TODO.md for all maintenance commands
- **Portal Guide**: See PORTAL_GUIDE.md for user documentation

## üöÄ Quick Start Commands

### Development
```bash
npm run dev    # Development server on http://localhost:3001
```

### Production
```bash
npm run build  # Build for production
npm run start  # Start production server
pm2 start npm --name "citylyfe" -- start  # Start with PM2
```

### Monitoring
```bash
pm2 status     # Check application status
pm2 logs       # View application logs
pm2 monit      # Real-time monitoring
```

### Backup
```bash
cp data/citylife.db backups/citylife-$(date +%Y%m%d-%H%M%S).db
```

## üîó Important URLs

- **Production**: https://citylyfe.net
- **Admin Dashboard**: https://citylyfe.net/admin/dashboard
- **Client Portal**: https://citylyfe.net/client/portal

## üîê Default Credentials (CHANGE IMMEDIATELY)

- **Admin**: admin@citylyfe.net / admin123
- **Demo Client**: client@demo.com / client123

---

**Next Step**: Follow DEPLOYMENT.md for complete deployment instructions
